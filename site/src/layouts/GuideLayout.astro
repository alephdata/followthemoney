---
import DefaultLayout from './DefaultLayout.astro';
import GuideNav from '../components/page/GuideNav.astro';
import TocNav from '../components/page/TocNav.astro';
import Meta from '../components/page/Meta.astro';

const headings = Astro.props.headings.filter(({ depth }) => depth === 2);
const { title } = Astro.props.content;
---

<DefaultLayout {title}>
  <GuideNav slot="sidebar" />
  <slot />
  <TocNav slot="toc" headings={headings} />
  <Meta slot="meta" path={Astro.props.content.file} />
</DefaultLayout>
